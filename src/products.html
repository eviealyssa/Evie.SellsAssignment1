<!-- contains all products -->
<!-- 
Evie Sells
Reg No. 21255921
Email: EASells@uclan.ac.uk 
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <!-- link to the stylesheets -->
    <link rel="stylesheet" href="styling/style.css" type= "text/css">

    <link rel="stylesheet" href="styling/headFootStyle.css" type= "text/css">

    <!-- embed products array into file -->
    <script src="resources/product-array.js"></script>

    <!-- setting up project -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Evie Sells - UCLan Shop - Product Page</title>
</head>

<!-- scrolls to height stored in session storage on opening -->
<body onload="scrollToHeight()">
    <header> 
        <!-- Semantic Element
         Semantic elements clearly states what the content is, they are used to clearly define the parts of the web page.
         For example header and nav. These tell both the browser and developer exactly what that section is for.        
        -->

         <!-- navigation bar -->
        <nav>
             <!-- adding in logo -->
            <div class="logo">
                <img src="resources/images/logo.svg" alt="UCLan logo" height="65" >
            </div>

            <div id="navSection">
                <ul class="navLinksList">
                    <li><a href="index.html" target="_self" class="navLinks">Home</a></li>
                    <li><a href="products.html" target="_self" class="navLinks activePage">Products</a></li>
                </ul>
            </div>

            <!-- cart menu icon for desktop / tablet -->
            <a href="cart.html" class="splitNav cartNavIcon"><img src="resources/images/other/shopping-cart-image.svg" alt="Cart" height="50"></a>

            <!-- adding in hamburg menu icon for mobile users -->
            <a class="mobileMenuIcon splitNav" onclick="toggleHamburgerNav()"><img src="resources/images/other/hamburger-menu-icon.svg" alt="Menu" height="50"></a>

            <!-- mobile navigation links -->
            <div id="mobileNavSection">
                <ul class="mobileNavLinksList">
                    <li><a href="index.html" target="_self" class="navLinks">Home</a></li>
                    <li><a href="products.html" target="_self" class="navLinks activePage">Products</a></li>
                    <li><a href="cart.html" target="_self" class="navLinks">Cart</a></li> 
                </ul>
            </div>           
        </nav>

        <!-- header - title -->
        <h1>Products</h1>
    </header>

<!-- Main - semantic element to clearly define sections of the page -->
    <main>
        <div class="breakPoint"></div>

        <!-- scroll to top button -->
        <button id="scrollToTopBtn" onclick="scrollToTop()">To Top</button>

        
        <!-- product card template & tshirt container -->
        <section id="tshirtContainer">
            <h2 class="h2Title productContainerTitle">Tshirts</h2>

            <div class="productCard">
                <img class="productImage" src='temp' alt="Product Image" width="100" onclick="viewItem(this)">
                <h2 class="productName">name</h2>
                <h3 class="productPrice">price</h3>
                <p class="productDescription">description</p>
                <a class="readMoreLink" onclick="viewItem(this)">Read more...</a>
                <button class="addToBagBtn" onclick="addToCart(this)">Add to Cart</button>
            </div>
        </section>
    
        <div class="breakPoint"></div>
        <div class="breakPoint"></div>

        <!-- container for hoody products -->
        <section id="hoodyContainer"><h2 class="h2Title productContainerTitle">Hoodies</h2></section>

        <div class="breakPoint"></div>
        <div class="breakPoint"></div>

        <!-- container for jumper products -->
        <section id="jumperContainer"><h2 class="h2Title productContainerTitle">Jumpers</h2></section>

        <div class="breakPoint"></div>
    </main>


    <!-- Footer -->
    <footer>
        <div class="contactInfo">
            <h2 class="footH2">Contact Info:</h2>
            <p class="footP">
                Name: Evie Sells
                <br>
                Email: <a id="emailAddress" href="mailto:EASells@uclan.ac.uk">EASells@uclan.ac.uk</a>
                <br>
                Reg.No: 21255921</p>
        </div>

        <div class="assignmentDetails">
            <h2 class="footH2">Details:</h2>
            <p class="footP">
                CO1707: Web Technologies
                <br>
                Assignment 1: Web Application
            </p>
        </div>

        <div class="FindSU">
            <h2 class="footH2">Find the SU:</h2>
            <p class="footP">University of Central Lancashire Students' Union,
                <br>
                Fylde Road, Preston. PR1 7BY
            </p>
        </div>

        <div class="socialMediaIcons">
            <h2 class="footH2">Stay in touch with the SU!</h2>

            <div class="iconsFooter">
                <a href="https://www.facebook.com/uclanstudentsunion/">
                    <img src='resources/images/social_media_icons/facebook-social-media-icon.svg' alt="Facebook icon" height="40">
                </a>
    
                <a href="https://www.tiktok.com/@uclansu">
                    <img src='resources/images/social_media_icons/tiktok-social-media-icon.svg' alt="TikTok icon" height="40">
                </a>
    
                <a href="https://www.instagram.com/uclansu/">
                    <img src='resources/images/social_media_icons/instagram-social-media-icon.svg' alt="Instagram icon" height="40">
                </a>
    
                <a href="https://x.com/i/flow/login?redirect_after_login=%2FUCLanSU">
                    <img src='resources/images/social_media_icons/x-social-media-black-icon.svg' alt="X icon" height="40">
                </a>
            </div>
        </div>
    </footer>


<!-- script - JS -->
    <script>
        // Open / Close hamburger navigation function
        function toggleHamburgerNav()
        {
            // get navSection and set as linksNav
            var navigationSection = document.getElementById("mobileNavSection");
            // If nav shown, hide
            if (navigationSection.style.display === "block") {
                navigationSection.style.display = "none";
            } 
            // If nav hidden, show
            else {
                navigationSection.style.display = "block";
            }
        }


        // sets scroll height to 0,0
        function scrollToTop()
        {
            sessionStorage.setItem("scrollHeightPP", 0);
            window.scrollTo(0,0);
        }


        // adds each product to the page
        function addProductsToPage(productType, productArray, productContainer)
        {
            // gets the product container, and the template product card
            const productList = document.getElementById(productContainer);
            const product = document.querySelector(".productCard");

            // searches through the identified array and populates fields
            for (i=0; i < productArray.length; ++i)
            {
                let productCopy = product.cloneNode(true);
                productList.appendChild(productCopy);
                var productID = productType + "ID" + i;
                productCopy.id = productID;
                productCopy.querySelector('.productName').innerHTML = productArray[i][0];
                productCopy.querySelector('.productDescription').innerHTML = productArray[i][1];
                productCopy.querySelector('.productPrice').innerHTML = productArray[i][3];
                productCopy.querySelector('.productImage').src = "resources/" + productArray[i][4];
            }
        }

        //populate products page with products
        addProductsToPage('tshirts', tshirts, 'tshirtContainer');

        addProductsToPage('hoodies', hoodies, 'hoodyContainer');

        addProductsToPage('jumpers', jumpers, 'jumperContainer');


        //hide the orginal/template product card in each section
        document.querySelector(".productCard").style.display = "none";

        // shows the item page - a larger view of the selected item
        // acessed by clicking on the item image or the read more link in the product card
        function viewItem(elm)
        {
            //gets the parent (productCard) of the button
            var parent = elm.parentNode;

            // gets the ID of the selected productCard
            var idProduct = parent.id;

            // sets item in session storage
            sessionStorage.setItem("itemToView", idProduct);

            // get and set scroll height
            sessionStorage.setItem("scrollHeightPP", this.scrollY);

            //opens index page
            window.open(href="item.html", target="_self");
        }


        // adds item to the shopping cart
        function addToCart(elm)
        {
            //gets the parent (productCard) of the button
            var parent = elm.parentNode;
            // gets the ID of the selected productCard
            var idProduct = parent.id;

            //get the data already in the cart
            var cartList = [];
            
            cartList = localStorage.getItem("shoppingBag");

            //If there are already items in the cart - add new item to end
            if (cartList != null)
            {
                cartList = cartList + "," + idProduct;
                localStorage.setItem("shoppingBag", cartList);
            } 
            //if cart is empty - add straight away
            else
            {
                localStorage.setItem("shoppingBag", idProduct);
            }

            //message to user that item has been added
            alert("Item added to cart");
        }

        // allows product page to load at the same point (height) the item was selected
        function scrollToHeight()
        {
            // gets height value from storage
            let yValue = sessionStorage.getItem("scrollHeightPP");
            window.scrollTo(0,yValue);
        }

    </script>
</body>
</html>